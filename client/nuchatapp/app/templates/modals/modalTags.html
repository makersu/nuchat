<ion-modal-view ng-class="{'transparent':!manageTags}">
  <ion-header-bar align-title="left" class="bar-royal">
    <h1 class="title">{{ modalTagTitle }}</h1>
    <div class="buttons">
      <button class="button-icon icon ion-close" ng-click="closeTagsModal()"></button>
    </div>
  </ion-header-bar>
  <ion-content>
    <div class="bar bar-header item-input-inset">
      <label class="item-input-wrapper">
        <i class="icon ion-ios-search placeholder-icon"></i>
        <input type="search" placeholder="{{ ::'SEARCH_OR_ADD_TAGS' | translate }}" ng-model="search.tag" ng-minlength="1">
      </label>
      <button class="button button-clear button-icon icon ion-plus" ng-click="addTag()" ng-if="manageTags"></button>
    </div>
    <ion-list show-delete="manageTags">
      <div collection-repeat="tag in currentMsg.tags | filter:search.tag">
        <ion-item ng-if="manageTags">
          <ion-delete-button class="ion-minus-circled" ng-click="removeTag($index)"></ion-delete-button>
          {{ tag }}
        </ion-item>
        <ion-checkbox ng-if="!manageTags" ng-model="tag.selected" ng-checked="tag.selected" ng-click="filterByTag()">{{ tag.name }}</ion-checkbox>
      </div>
    </ion-list>
  </ion-content>
</ion-modal-view>